<Page loaded="pageLoaded"
      navigatingTo="navigatingTo"
      xmlns="http://www.nativescript.org/tns.xsd"
      xmlns:dd="nativescript-drop-down"
      >
<ActionBar class="action-bar">
        <NavigationButton ios:visibility="collapsed" icon="res://ham" tap="onDrawerButtonTap"></NavigationButton>
        <ActionItem icon="res://navigation/menu" android:visibility="collapsed"
            tap="onDrawerButtonTap" ios.position="left">
        </ActionItem>
        <Label class="action-bar-title" text="{{ profileTitle }}"></Label>
    </ActionBar>

    <ScrollView>
        <StackLayout class="smallMargin">

            <!-- Profile Pic -->
            <Label text="Profile Picture" />
            <Image src="{{ imgSrc }}" stretch="aspectFill" />
            <Button text="Change Image" tap="changeImage" />
            
            <!-- User info -->
            <Label text="User Information" />
            <DockLayout stretchLastChild="true">
                <Label dock="left" text="First Name:" />
                <TextField dock="left" text="{{ firstName }}" />
            </DockLayout>
            <DockLayout stretchLastChild="true">
                <Label dock="left" text="First Name:" />
                <TextField dock="left" text="{{ lastName }}" />
            </DockLayout>

            <!-- Player Info -->
            <Label text="Player Information" />
            <Switch checked="{{ isPlayer }}" />
            <StackLayout visibility="{{ isPlayer ? 'visible' : 'collapsed' }}">
                <DockLayout>
                    <Label dock="left" text="Date of Birth:" />
                    <DatePicker dock="left" id="birthDate" date="{{ birthDate }}" maxDate="{{ maxDate }}" />
                </DockLayout>
                <DockLayout>
                    <Label dock="left" text="Phone Number:" />
                    <TextField dock="left" text="{{ phone }}"
                       autocapitalizationType="none" />
                </DockLayout>
                <DockLayout stretchLastChild="true">
                    <Label dock="left" text="Batsman Type:" />
                    <dd:DropDown dock="left"  id="batsmanType" hint="Rating"
                                 items="{{ batsmanTypeList }}"
                                 selectedIndex="{{ batsmanTypeIndex }}"
                                 selectedIndexChanged="batsmanTypeDropdownChanged" />
                </DockLayout>
                <DockLayout stretchLastChild="true">
                    <Label dock="left" text="Bowler Type:" />
                    <dd:DropDown dock="left"  id="bowlerType" hint="Rating"
                                 items="{{ bowlerTypeList }}"
                                 selectedIndex="{{ bowlerTypeIndex }}"
                                 selectedIndexChanged="bowlerTypeDropdownChanged" />
                </DockLayout>
            </StackLayout>

            <!-- Coach Info -->
            <Label text="Coach Information" />
            <Switch checked="{{ isCoach }}" />
            <StackLayout visibility="{{ isCoach ? 'visible' : 'collapsed' }}">
                <Label text="Coaching Information" />
                <DockLayout>
                    <Label dock="left" text="Years Experience:" />
                    <TextField dock="left" text="{{ yearsExperience }}" keyboardType="number" />
                </DockLayout>
            </StackLayout>

            <!-- Change Password -->
            <Label text="Change Password" />
            <DockLayout stretchLastChild="true">
                <Label dock="left" text="Old Password:" />
                <TextField dock="left" text="{{ oldPassword }}"
                       autocapitalizationType="none" secure="true" />
            </DockLayout>
            <DockLayout stretchLastChild="true">
                <Label dock="left" text="New Password:" />
                <TextField dock="left" text="{{ newPassword }}"
                       autocapitalizationType="none" secure="true" />
            </DockLayout>
            <DockLayout stretchLastChild="true">
                <Label dock="left" text="Confirm Password:" />
                <TextField dock="left" text="{{ confirmPassword }}"
                       autocapitalizationType="none" secure="true" />
            </DockLayout>
            
            <!-- Buttons -->
            <DockLayout>
                <Button dock="right" text="Cancel" tap="cancel" />
                <Button dock="right" text="Save" tap="save" />
            </DockLayout>

        </StackLayout>
    </ScrollView>
    
</Page>