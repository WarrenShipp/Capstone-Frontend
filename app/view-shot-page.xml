<Page
        loaded="onLoad"
        xmlns="http://schemas.nativescript.org/tns.xsd"
        xmlns:VideoPlayer="nativescript-videoplayer"
        navigatingTo="onNavigatingTo">
    <ActionBar class="action-bar">
        <NavigationButton ios:visibility="collapsed" icon="res://ham" tap="onDrawerButtonTap"></NavigationButton>
        <ActionItem icon="res://navigation/menu" android:visibility="collapsed"
            tap="onDrawerButtonTap" ios.position="left">
        </ActionItem>
        <Label class="action-bar-title" text="{{ pageName ? pageName : '...' }}"></Label>
    </ActionBar>

    <ScrollView>
        <StackLayout>

            <ActivityIndicator
                class="screen-cover-load-wheel"
                busy="{{ isLoading }}"
                visibility="{{ isLoading ? 'visible' : 'collapse' }}" />

            <GridLayout columns="*,*" rows="*,*,*"
                        horizontalAlignment="left" verticalAlignment="top">
                <Label col="0" row="0" text="Player:" />
                <Label col="1" row="0" text="{{ playername ? playername : 'None' }}" />
                <!--
                <Label col="0" row="1" text="Coach:" />
                <Label col="1" row="1" text="{{ coachname ? coachname : 'None' }}" />
                <Label col="0" row="2" text="Club:" />
                <Label col="1" row="2" text="{{ clubname ? clubname : 'None' }}" />
                -->
            </GridLayout>

            <GridLayout class="video-background" height="300">
                <!-- video element -->
                <VideoPlayer:Video
                    id="nativeVideoPlayer"
                    controls="true" loop="true" autoplay="false"
                    height="300" class="shot-video"
                    src="{{ videoPath }}" />
                <!-- loading element -->
                <Label class="center-element" text="Getting video"
                       visibility="{{ videoLoading && !hasVideo ? 'visible' : 'collapsed' }}" />
                <!-- error element -->
                <Label class="center-element" text="Error getting video!"
                       visibility="{{ !videoLoading && !hasVideo ? 'visible' : 'collapsed' }}" />
            </GridLayout>

            <GridLayout columns="*,2*" rows="*,*,*,*,*"
                        horizontalAlignment="left" verticalAlignment="top">

                <!--
                <Label text="Date:" row="0" col="0" />
                <Label id="date" text="{{ date }}" row="0" col="1" />

                <Label text="Date:" row="1" col="0" />
                <Label id="time" text="{{ time }}" row="1" col="1" />
                -->

                <Label text="Shot Type:" row="2" col="0" />
                <Label row="2" col="1" text="{{ shotTypeName ? shotTypeName : 'Unset' }}" />

                <Label row="3" col="0" text="Rating:" />
                <Label row="3" col="1" text="{{ ratingTypeName ? ratingTypeName : 'Unset' }}" />

                <Label row="4" col="0" text="Duration:" />
                <Label row="4" col="1" text="{{ duration }}" />
            </GridLayout>

            <GridLayout columns="*,*,*" rows="*,*">
                <Button col="0" class="smallbtn"
                        text="Cancel" tap="cancel" />
                <Button col="1" class="smallbtn"
                        visibility="{{ canEdit ? 'visible' : 'collapsed' }}"
                        isEnabled="{{ (canEdit && !isLoading && !lockUserAction) ? 'true' : 'false' }}"
                        text="Edit" tap="edit" />
            </GridLayout>
        </StackLayout>
    </ScrollView>

</Page>