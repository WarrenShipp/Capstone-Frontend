<Page navigatingTo="onNavigatingTo" 
    xmlns:df="nativescript-pro-ui/dataform" 
    xmlns="http://schemas.nativescript.org/tns.xsd" 
    xmlns:dd="nativescript-drop-down" 
    xmlns:calendar="nativescript-ui-calendar">
    <ActionBar class="action-bar">
        <NavigationButton ios:visibility="collapsed" icon="res://ham" tap="onDrawerButtonTap"></NavigationButton>
        <ActionItem icon="res://navigation/menu" android:visibility="collapsed" tap="onDrawerButtonTap" ios.position="left">
        </ActionItem>
        <Label class="action-bar-title" text="Search"></Label>
    </ActionBar>

        <StackLayout >
            <GridLayout columns="*,2*" rows="*,*"
                        horizontalAlignment="left" verticalAlignment="top"
                        class="searchForm">
                <Label row="0" col="0" text="Type" />
                <dd:DropDown id="searchType" col="1" hint="Select"
                             items="{{ searchTypeList }}"
                             selectedIndex="{{ searchTypeIndex }}"
                             selectedIndexChanged="searchTypeChanged" />
            </GridLayout>

            <!-- Club Search Form -->
            <GridLayout columns="*,2*" rows="*,*,*"
                        horizontalAlignment="left" verticalAlignment="top"
                        height="auto"
                        visibility="{{ showClub ? 'visible' : 'collapsed' }}">
                <Label col="0" text="Name"></Label>
                <TextField text="{{ clubName }}" col="1"></TextField>
                <!-- <Label col="0" row="1" text="League  "></Label>
                <TextField text="{{ leagueName }}" col="1" row="1"></TextField> -->
            </GridLayout>

            <!-- Shot Search Form -->
            <GridLayout columns="*,*" rows="*,*,*,*,*,*,*"
                        horizontalAlignment="left" verticalAlignment="top"
                        height="auto"
                        visibility="{{ showShot ? 'visible' : 'collapsed' }}">
                
                <Label col="0" row="0" text="Player"></Label>
                <Button col="1" row="0" text="{{ playerName ? playerName : '' }}"
                        tap="openPlayerModal" horizontalAlignment="left" />

                <Label col="0" row="1" text="Type" />
                <dd:DropDown row="1" col="1" id="shotTypeDropdown" hint="Shot Type"
                             items="{{ shotTypeList }}" selectedIndex="{{ shotTypeIndex }}"
                             isEnabled="{{ isEnabled }}" />
                
                <Label col="0" row="2" text="Rating" />
                <dd:DropDown row="2" col="1" id="ratingTypeDropdown" hint="Rating"
                             items="{{ ratingTypeList }}" selectedIndex="{{ ratingTypeIndex }}"
                             isEnabled="{{ isEnabled }}" />

                <!-- Label col="0" row="3" text="Coach" />
                <TextField col="1" row="3" text="{{ shotCoach }}" / -->

                <!-- Label col="0" row="4" text="Club" />
                <TextField col="1" row="4" text="{{ shotClub }}" / -->
                
                <Label col="0" row="5" text= "Start Date" />
                <Button text="{{ dateStart ? dateStart : '' }}" col="1" row="5"
                        tap="showDateStart"
                        visibility="{{ showCalendarStart ? 'collapsed' : 'visible' }}" />
                <Label col="0" row="6" text= "End Date" />
                <Button text="{{ dateEnd ? dateEnd : '' }}" col="1" row="6"
                        tap="showDateEnd"
                        visibility="{{ showCalendarEnd ? 'collapsed' : 'visible' }}" />
                <calendar:RadCalendar id="calendarStart"
                                      visibility="{{ showCalendarStart ? 'visible' : 'collapsed' }}"
                                      eventSource="{{ calendarEvents }}"
                                      col="0" row="0" colSpan="2" rowSpan="7"
                                      eventsViewMode="Inline"
                                      selectionMode="Single"
                                      viewMode="Month"
                                      transitionMode="Stack"
                                      locale="en-US"
                                      dateSelected="onStartDateSelected"
                                      dateDeselected="onStartDateDeselected" />
                <calendar:RadCalendar id="calendarEnd"
                                      visibility="{{ showCalendarEnd ? 'visible' : 'collapsed' }}"
                                      eventSource="{{ calendarEvents }}"
                                      col="0" row="0" colSpan="2" rowSpan="7"
                                      eventsViewMode="Inline"
                                      selectionMode="Single"
                                      viewMode="Month"
                                      transitionMode="Stack"
                                      locale="en-US"
                                      dateSelected="onEndDateSelected"
                                      dateDeselected="onEndDateDeselected" />
            
            </GridLayout>

            <!-- User Search Form -->
            <GridLayout columns="*,2*" rows="*,*,*"
                        horizontalAlignment="left" verticalAlignment="top"
                        height="auto"
                        visibility="{{ showUser ? 'visible' : 'collapsed' }}">
                <Label col="0" text="Player"></Label>
                <TextField text="{{ userName }}" col="1"></TextField>
                <Label col="0" row="1" text="Club  "></Label>
                <TextField text="{{ userClub }}" col="1" row="1"></TextField>
                <Label col="0" row="2" text="Type  "></Label>
                <dd:DropDown row="2" col="1" id="userTypeDropdown" hint="User Type"
                             items="{{ userTypeList }}"
                             selectedIndex="{{ userTypeIndex }}"
                             isEnabled="{{ isEnabled }}" />
            </GridLayout>
    
            <!-- Submit button -->
            <Button class="btn btn-primary"
                    horizontalAlignment="stretch" tap="sendSearch"
                    text="Search"
                    visibility="{{ showSubmit ? 'visible' : 'collapsed' }}" />

        </StackLayout>
</Page>