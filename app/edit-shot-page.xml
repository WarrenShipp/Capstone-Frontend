<Page
        loaded="onLoad" xmlns:df="nativescript-pro-ui/dataform"
        xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:dd="nativescript-drop-down" 
        xmlns:VideoPlayer="nativescript-videoplayer"
        navigatingTo="onNavigatingTo">
    <ActionBar class="action-bar">
        <NavigationButton ios:visibility="collapsed" icon="res://ham" tap="onDrawerButtonTap"></NavigationButton>
        <ActionItem icon="res://navigation/menu" android:visibility="collapsed"
            tap="onDrawerButtonTap" ios.position="left">
        </ActionItem>
        <Label class="action-bar-title" text="{{ pageName ? pageName : '...' }}"></Label>
    </ActionBar>
    <ScrollView>
        <StackLayout>

	        <TextField id="playername" hint="Player Name"
                       text="{{ playername }}" />
            <TextField id="coachname" hint="Coach"
                       text="{{ coachname }}" />
            <TextField id="clubname" hint="Club"
                       text="{{ clubname }}" />

            <VideoPlayer:Video id="nativeVideoPlayer"
                    controls="true" loop="true" autoplay="false" height="300"
                    src="{{ videoPath }}" />

            <Label text="Set Thumbnail" row="0" col="0" />
            <GridLayout columns="*,*" rows="*">
                <VideoPlayer:Video id="thumbnailVideo" row="0" col="0"
                    controls="false" loop="false" autoplay="false" height="100"
                    src="{{ videoPath }}" muted="true" />
                <Slider row="0" col="1" value="{{ sliderValue }}"
                        minValue="0" maxValue="{{ sliderMax }}"
                        valueChange="setThumbnail" id="thumbnailSlider" />
            </GridLayout>
            
            <GridLayout columns="*,2*" rows="*,*,*,*,*"
                        horizontalAlignment="left" verticalAlignment="top">
                
                <Label text="Date:" row="0" col="0" />
                <Label id="date" text="{{ date }}" row="0" col="1" />
                
                <Label text="Date:" row="1" col="0" />
                <Label id="time" text="{{ time }}" row="1" col="1" />
                
                <Label text="Shot Type:" row="2" col="0" />
                <dd:DropDown row="2" col="1"  id="shotType" hint="Shot Type"
                             items="{{ shotTypeItems }}"
                             selectedIndex="{{ shotTypeIndex }}" 
                             selectedIndexChanged="shotTypeDropdownChanged" 
                             isEnabled="{{ isEnabled }}" />
                
                <Label row="3" col="0" text="Rating:" />
                <dd:DropDown row="3" col="1"  id="ratingType" hint="Rating"
                             items="{{ ratingTypeItems }}"
                             selectedIndex="{{ ratingTypeIndex }}" 
                             selectedIndexChanged="ratingTypeDropdownChanged" 
                             isEnabled="{{ isEnabled }}" />
                
                <Label row="4" col="0" text="Duration:" />
                <Label row="4" col="1" text="{{ duration }}" />
            </GridLayout>

            <GridLayout columns="*,*,*,*" rows="*,*">
                <Button col="0" class="smallbtn"
                        visibility="{{ canCancel ? 'visible' : 'collapsed' }}"
                        isEnabled="{{ canCancel ? 'true' : 'false' }}"
                        text="Cancel" tap="cancel" />
                <Button col="1" class="smallbtn" text="Discard" tap="discard" />
                <Button col="2" class="smallbtn"
                        visibility="{{ localOnly ? 'visible' : 'collapsed' }}"
                        isEnabled="{{ localOnly ? 'true' : 'false' }}"
                        text="Save" tap="saveLocally" />
                <Button col="3" class="smallbtn"
                        isEnabled="{{ canUpload ? 'true' : 'false' }}"
                        text="Upload" tap="upload" />
            </GridLayout>
        </StackLayout>
    </ScrollView>
    
</Page>